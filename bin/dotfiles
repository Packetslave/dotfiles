#!/bin/bash

ts=`date +%Y%m%d%H%M%S`

function realpath() {
  python -c "import os; print(os.path.realpath('$1'))"
}

dir0="$(basename $0)"
here=$(realpath "$dir0/..")

function link() {
  file=$1
  target=$2

  if [[ -e $HOME/$file ]] ; then
    echo mv "$HOME/$file" "$HOME/$file.$ts"
  fi
  echo ln -s $here/$file $HOME/$target
}

link emacs/emacs .emacs
link tmux/tmux.conf .tmux.conf
link zsh/zshrc .zshrc
